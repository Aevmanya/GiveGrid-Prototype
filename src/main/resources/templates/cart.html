<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Your Cart</title>

    <!-- Bootstrap -->
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">

    <style>
        body {
            background: #f4f6f9
        }

        .btn-primary4 {
            display: flex;
            justify-content: center;
            background: #ff4c4c;
            color: white;
            margin-left: 8px;
            width: 220px;
            border-radius: 10px;
        }

        .form-control {
            width: 95%;
            text-align: left;
            padding: 10px 12px;
            border: 1px solid #ccc;
            font-size: 14px;
            border-radius: 40px;
        }

        .table{
            text-align: center;
        }

        .mb-4{
            text-align: center;
        }


    </style>
</head>

<body>

<!-- ðŸ”¥ EXACT HOME PAGE NAVBAR (but Add Product â†’ Home) -->
<nav class="navbar navbar-light bg-white shadow-sm px-4 py-3">
    <a href="/" class="navbar-brand fw-bold fs-4" style="text-decoration: none; color: black;">
        GiveGrid
    </a>

    <form class="d-flex" method="get" action="/search">
        <input class="form-control me-2" name="query" type="search" placeholder="Search products...">
        <button class="btn btn-primary">Search</button>

        <!-- HOME BUTTON (replacement) -->
        <a href="/" class="btn btn-primary4">Return Home</a>
    </form>
</nav>

<div class="container mt-5">
    <h2 class="mb-4">Your Cart</h2>

    <!-- If cart empty -->
    <div th:if="${items.size() == 0}">
        <div class="alert alert-info">
            Your cart is empty.
        </div>
    </div>

    <!-- If cart has items -->
    <div th:if="${items.size() > 0}" class="card p-3">

        <table class="table">
            <thead>
            <tr>
                <th>Product</th>
                <th>Quantity Required</th>
                <th>Actions</th>
            </tr>
            </thead>

            <tbody>
            <tr th:each="item : ${items}">
                <td th:text="${item.product.name}"></td>
                <td th:text="${item.quantity}"></td>

                <td class="text-center">
                    <div class="d-inline-flex gap-2">

                        <!-- VIEW PRODUCT BUTTON -->
                        <a th:href="@{'/products/' + ${item.product.id}}"
                           class="btn btn-primary btn-sm">
                            View Product
                        </a>

                        <!-- REMOVE BUTTON -->
                        <a th:href="@{'/cart/remove/' + ${item.id}}"
                           class="btn btn-danger btn-sm">
                            Remove from cart
                        </a>

                    </div>
                </td>

            </tr>
            </tbody>
        </table>

    </div>
</div>
<div class="text-end mt-4">
    <div class="text-end mt-4">
        <a href="/donate/select" class="btn btn-warning">Donate items</a>
    </div>
</div>

</body>
</html>
